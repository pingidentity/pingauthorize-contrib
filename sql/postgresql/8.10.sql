-- *********************************************************************
-- Update to '8.10' Database Script
-- *********************************************************************
-- Change Log: META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/symphonic-changelog.xml
-- Ran at: 7/20/21 9:58 AM
-- Against: papadmin@jdbc:postgresql://localhost:5432/pap?allowEncodingChanges=false&ApplicationName=PostgreSQL+JDBC+Driver&autosave=never&binaryTransfer=true&binaryTransferDisable=&binaryTransferEnable=&cancelSignalTimeout=10&cleanupSavepoints=false&connectTimeout=10&databaseMetadataCacheFields=65536&databaseMetadataCacheFieldsMiB=5&defaultRowFetchSize=0&disableColumnSanitiser=false&escapeSyntaxCallMode=select&gsslib=auto&hideUnprivilegedObjects=false&hostRecheckSeconds=10&jaasLogin=true&loadBalanceHosts=false&loginTimeout=0&logServerErrorDetail=true&logUnclosedConnections=false&preferQueryMode=extended&preparedStatementCacheQueries=256&preparedStatementCacheSizeMiB=5&prepareThreshold=5&readOnly=false&readOnlyMode=transaction&receiveBufferSize=-1&reWriteBatchedInserts=false&sendBufferSize=-1&socketTimeout=0&sspiServiceClass=POSTGRES&targetServerType=any&tcpKeepAlive=false&unknownLength=2147483647&useSpnego=false&xmlFactoryFactory=
-- Liquibase version: 3.10.2
-- *********************************************************************

SET SEARCH_PATH TO public;

-- Lock Database
UPDATE public.databasechangeloglock SET LOCKED = TRUE, LOCKEDBY = '172.16.252.128 (172.16.252.128)', LOCKGRANTED = '2021-07-20 09:58:45.83' WHERE ID = 1 AND LOCKED = FALSE;

SET SEARCH_PATH TO public;

SET SEARCH_PATH TO public;

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.2/modify-definition-table-parentId.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ALTER COLUMN "parentId" TYPE VARCHAR(36) USING ("parentId"::VARCHAR(36));

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.2/modify-definition-table-parentId.xml', NOW(), 165, '8:f4aa8c74420c3a2746eda3e8a835385f', 'modifyDataType columnName=parentId, tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.2/changelog.xml::1::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.2/changelog.xml', NOW(), 166, '8:c646a30b05282749a451e0cd02d86276', 'tagDatabase', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL, '8.2');

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.3/add-constant-resolver-columns.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."AttributeResolver" ADD value TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.3/add-constant-resolver-columns.xml', NOW(), 167, '8:3cf64fff68b2e57ff5df583ac5de509d', 'addColumn tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.3/add-constant-resolver-columns.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."AttributeResolver" ADD value_type VARCHAR(255);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.3/add-constant-resolver-columns.xml', NOW(), 168, '8:1a2b672e2eff9566d84796afd95d3ddb', 'addColumn tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.3/changelog.xml::1::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.3/changelog.xml', NOW(), 169, '8:f1f9c8cc3d0899e4040d6b185b086ea2', 'tagDatabase', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL, '8.3');

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/add-deployment_package_approval-table.xml::2::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.deployment_package_approval (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, CONSTRAINT pk_deployment_package_approval PRIMARY KEY (id));

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/add-deployment_package_approval-table.xml', NOW(), 170, '8:327790177fe71d3a7b7ae8e0246400d8', 'createTable tableName=deployment_package_approval', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/add-deployment_package_approval-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.deployment_package_approval ADD deployment_package_id VARCHAR(36) NOT NULL;

ALTER TABLE public.deployment_package_approval ADD user_id VARCHAR(1000) NOT NULL;

ALTER TABLE public.deployment_package_approval ADD date_approved TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW();

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/add-deployment_package_approval-table.xml', NOW(), 171, '8:f9a5a4fa462a09e29055e8ee7bf3fe58', 'addColumn tableName=deployment_package_approval; addColumn tableName=deployment_package_approval; addColumn tableName=deployment_package_approval', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/add-deployment_package_approval-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.deployment_package_approval ADD CONSTRAINT uq_deployment_package_approval_deployment_package_id_user_id UNIQUE (deployment_package_id, user_id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/add-deployment_package_approval-table.xml', NOW(), 172, '8:22602dbf7d59c1b230fe3b1f777da5b1', 'addUniqueConstraint constraintName=uq_deployment_package_approval_deployment_package_id_user_id, tableName=deployment_package_approval', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/add-deployment_package_approval-table.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.deployment_package_approval ADD CONSTRAINT fk_deployment_package_approval_deployment_package FOREIGN KEY (deployment_package_id) REFERENCES public."DeploymentPackage" (id) ON DELETE CASCADE;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/add-deployment_package_approval-table.xml', NOW(), 173, '8:e39e7412ceb5fa04c840ece487a763f8', 'addForeignKeyConstraint baseTableName=deployment_package_approval, constraintName=fk_deployment_package_approval_deployment_package, referencedTableName=DeploymentPackage', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/changelog.xml::1::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.4/changelog.xml', NOW(), 174, '8:b87f3973525faccabdf1f68773c6c9c1', 'tagDatabase', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL, '8.4');

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.5/changelog.xml::1::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.5/changelog.xml', NOW(), 175, '8:37b329296a9dd759469d63cdc0ac2945', 'tagDatabase', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL, '8.5');

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-keystore_configuration-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.keystore_configuration (id BIGINT GENERATED BY DEFAULT AS IDENTITY);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-keystore_configuration-table.xml', NOW(), 176, '8:85edb32775e62e91dd4a84659d2afe13', 'createTable tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-keystore_configuration-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration ADD CONSTRAINT pk_keystore_configuration PRIMARY KEY (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-keystore_configuration-table.xml', NOW(), 177, '8:d94765c775ff28730b73f4b61c548286', 'addPrimaryKey constraintName=pk_keystore_configuration, tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-keystore_configuration-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration ADD source VARCHAR(255) NOT NULL;

ALTER TABLE public.keystore_configuration ADD store_name TEXT NOT NULL;

ALTER TABLE public.keystore_configuration ADD alias TEXT NOT NULL;

ALTER TABLE public.keystore_configuration ADD alias_password TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-keystore_configuration-table.xml', NOW(), 178, '8:ba5cc154b8987db905cb3c5608f7333a', 'addColumn tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.tls_settings (id BIGINT GENERATED BY DEFAULT AS IDENTITY);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml', NOW(), 179, '8:b2e2d57f6b4d714d6ec035edf4569fa7', 'createTable tableName=tls_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.tls_settings ADD CONSTRAINT pk_tls_settings PRIMARY KEY (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml', NOW(), 180, '8:845f5229d6edb5486efa4063e7e34ccc', 'addPrimaryKey constraintName=pk_tls_settings, tableName=tls_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.tls_settings ADD tls_validation_type VARCHAR(255) NOT NULL;

ALTER TABLE public.tls_settings ADD mtls_validation BOOLEAN NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml', NOW(), 181, '8:1868c1f3151bf525375b3b05cbce5642', 'addColumn tableName=tls_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.tls_settings ADD tls_truststore_configuration_id BIGINT;

ALTER TABLE public.tls_settings ADD mtls_keystore_configuration_id BIGINT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml', NOW(), 182, '8:7dccafdf759c949d53c52354528a1b7c', 'addColumn tableName=tls_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml::7::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.tls_settings ADD CONSTRAINT fk_tls_settings_tls_keystore_configuration FOREIGN KEY (tls_truststore_configuration_id) REFERENCES public.keystore_configuration (id) ON DELETE CASCADE;

ALTER TABLE public.tls_settings ADD CONSTRAINT fk_tls_settings_mtls_keystore_configuration FOREIGN KEY (mtls_keystore_configuration_id) REFERENCES public.keystore_configuration (id) ON DELETE CASCADE;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml', NOW(), 183, '8:4bcc2b21ecf8db3926c287e788b5bd7e', 'addForeignKeyConstraint baseTableName=tls_settings, constraintName=fk_tls_settings_tls_keystore_configuration, referencedTableName=keystore_configuration; addForeignKeyConstraint baseTableName=tls_settings, constraintName=fk_tls_settings_mtls_keys...', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml::8::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."RestSettings" ADD tls_settings_id BIGINT;

ALTER TABLE public."LdapSettings" ADD tls_settings_id BIGINT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('8', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml', NOW(), 184, '8:5a0a0ff79238f22074fadfdc7885d699', 'addColumn tableName=RestSettings; addColumn tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml::10::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."RestSettings" ADD CONSTRAINT fk_rest_settings_tls_settings FOREIGN KEY (tls_settings_id) REFERENCES public.tls_settings (id) ON DELETE CASCADE;

ALTER TABLE public."LdapSettings" ADD CONSTRAINT fk_ldap_settings_tls_settings FOREIGN KEY (tls_settings_id) REFERENCES public.tls_settings (id) ON DELETE CASCADE;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('10', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-tls_settings-table.xml', NOW(), 185, '8:7278c6cf621b69ee19acd600c6186598', 'addForeignKeyConstraint baseTableName=RestSettings, constraintName=fk_rest_settings_tls_settings, referencedTableName=tls_settings; addForeignKeyConstraint baseTableName=LdapSettings, constraintName=fk_ldap_settings_tls_settings, referencedTableNa...', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.permissions (id BIGINT GENERATED BY DEFAULT AS IDENTITY);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml', NOW(), 186, '8:987ebf6d5ffcae4009583fd495b7c6f1', 'createTable tableName=permissions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.permissions ADD CONSTRAINT pk_permissions PRIMARY KEY (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml', NOW(), 187, '8:5f62298d2b25c9f6e87e3741a9df0a65', 'addPrimaryKey constraintName=pk_permissions, tableName=permissions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.permissions ADD inherit BOOLEAN DEFAULT TRUE NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml', NOW(), 188, '8:9cb914bf5d5dc417822a064a862fbc22', 'addColumn tableName=permissions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml::8::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ADD permissions_id BIGINT;

ALTER TABLE public."PolicySet2" ADD permissions_id BIGINT;

ALTER TABLE public."Policy2" ADD permissions_id BIGINT;

ALTER TABLE public."Rule2" ADD permissions_id BIGINT;

ALTER TABLE public."Statement2" ADD permissions_id BIGINT;

ALTER TABLE public."Target2" ADD permissions_id BIGINT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('8', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml', NOW(), 189, '8:d93fed15f8aaab2437d6200bac622633', 'addColumn tableName=Definition; addColumn tableName=PolicySet2; addColumn tableName=Policy2; addColumn tableName=Rule2; addColumn tableName=Statement2; addColumn tableName=Target2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml::10::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ADD CONSTRAINT fk_definition_permissions FOREIGN KEY (permissions_id) REFERENCES public.permissions (id) ON DELETE CASCADE;

ALTER TABLE public."PolicySet2" ADD CONSTRAINT fk_policyset2_permissions FOREIGN KEY (permissions_id) REFERENCES public.permissions (id) ON DELETE CASCADE;

ALTER TABLE public."Policy2" ADD CONSTRAINT fk_policy2_permissions FOREIGN KEY (permissions_id) REFERENCES public.permissions (id) ON DELETE CASCADE;

ALTER TABLE public."Rule2" ADD CONSTRAINT fk_rule2_permissions FOREIGN KEY (permissions_id) REFERENCES public.permissions (id) ON DELETE CASCADE;

ALTER TABLE public."Statement2" ADD CONSTRAINT fk_statement2_permissions FOREIGN KEY (permissions_id) REFERENCES public.permissions (id) ON DELETE CASCADE;

ALTER TABLE public."Target2" ADD CONSTRAINT fk_target2_permissions FOREIGN KEY (permissions_id) REFERENCES public.permissions (id) ON DELETE CASCADE;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('10', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-permissions-table.xml', NOW(), 190, '8:02af0f43d127e9f0ea531c87b472dbd9', 'addForeignKeyConstraint baseTableName=Definition, constraintName=fk_definition_permissions, referencedTableName=permissions; addForeignKeyConstraint baseTableName=PolicySet2, constraintName=fk_policyset2_permissions, referencedTableName=permission...', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.role_permissions (id BIGINT GENERATED BY DEFAULT AS IDENTITY, permissions_id BIGINT);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml', NOW(), 191, '8:2e2bd32dfcbb3d9f551a01a640f04939', 'createTable tableName=role_permissions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.role_permissions ADD CONSTRAINT pk_role_permissions PRIMARY KEY (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml', NOW(), 192, '8:c7ed06f22343b14c60de5e679429c76b', 'addPrimaryKey constraintName=pk_role_permissions, tableName=role_permissions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.role_permissions ADD permission VARCHAR(1000) NOT NULL;

ALTER TABLE public.role_permissions ADD role VARCHAR(1000) NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml', NOW(), 193, '8:629e1bdc57fd290ca9227f131366e5d9', 'addColumn tableName=role_permissions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.role_permissions ADD CONSTRAINT fk_role_permissions_permissions FOREIGN KEY (permissions_id) REFERENCES public.permissions (id) ON DELETE CASCADE;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml', NOW(), 194, '8:d6c8856b685dd31dabeaab32b79f0b6b', 'addForeignKeyConstraint baseTableName=role_permissions, constraintName=fk_role_permissions_permissions, referencedTableName=permissions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml::6::symphonic
SET SEARCH_PATH TO public;

CREATE INDEX ix_role_permissions_permissions_id ON public.role_permissions(permissions_id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/add-role_permission-table.xml', NOW(), 195, '8:9f21ac2634f468cd3a8bad28ff72aa2d', 'createIndex indexName=ix_role_permissions_permissions_id, tableName=role_permissions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/create-value-processor-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.value_processor (id BIGINT GENERATED ALWAYS AS IDENTITY);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/create-value-processor-table.xml', NOW(), 196, '8:b361f8aad793f45668ba3920d5ca883e', 'createTable tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/create-value-processor-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor ADD dtype VARCHAR(31) NOT NULL;

ALTER TABLE public.value_processor ADD expression TEXT;

ALTER TABLE public.value_processor ADD value_type VARCHAR(255);

ALTER TABLE public.value_processor ADD value_processor_definition_id VARCHAR(36);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/create-value-processor-table.xml', NOW(), 197, '8:2e577161570793238526812a57983c1e', 'addColumn tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/create-value-processor-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor ADD CONSTRAINT pk_value_processor PRIMARY KEY (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/create-value-processor-table.xml', NOW(), 198, '8:06a3bab40787f3b7305590965ba5b186', 'addPrimaryKey constraintName=pk_value_processor, tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/alter-definition-table-add-columns-for-value-processors.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ADD value_type VARCHAR(255);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/alter-definition-table-add-columns-for-value-processors.xml', NOW(), 199, '8:209e3455d6b446c1edfd825f5d44e889', 'addColumn tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/alter-definition-table-add-columns-for-value-processors.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ADD value_processor_id BIGINT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/alter-definition-table-add-columns-for-value-processors.xml', NOW(), 200, '8:d56b87d110fe98bd082c43efd44579fd', 'addColumn tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/alter-definition-table-add-columns-for-value-processors.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ADD CONSTRAINT fk_definition_value_processor FOREIGN KEY (value_processor_id) REFERENCES public.value_processor (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/alter-definition-table-add-columns-for-value-processors.xml', NOW(), 201, '8:26d42b6894e7110bf2a80546b8776978', 'addForeignKeyConstraint baseTableName=Definition, constraintName=fk_definition_value_processor, referencedTableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor ADD temp_definition_id VARCHAR(36);

ALTER TABLE public.value_processor ADD temp_definition_version VARCHAR(36);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml', NOW(), 202, '8:4d5bc3d4f539fbcde7d335fe137bbf46', 'addColumn tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor ADD CONSTRAINT fk_value_processor_definition FOREIGN KEY (temp_definition_id, temp_definition_version) REFERENCES public."Definition" (id, version);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml', NOW(), 203, '8:2bd7e4a83f7f9501d7e8b2890304eae9', 'addForeignKeyConstraint baseTableName=value_processor, constraintName=fk_value_processor_definition, referencedTableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml::3::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.value_processor(dtype, expression, value_type, temp_definition_id, temp_definition_version)
    (SELECT e."expressionType", e.expression, e."valueType", d.id, d.version FROM public."ExpressionValueResolverSettings" e
        INNER JOIN public."Definition" d ON e."ExpressionValueResolverSettings_ID" = d."expressionValueResolverSettings_ExpressionValueResolveru8c5_OID"
        WHERE e."expressionType" != 'NONE' AND e.expression IS NOT NULL);

UPDATE public."Definition" d SET value_type =
    (SELECT "valueType" FROM public."ExpressionValueResolverSettings" e
         WHERE e."ExpressionValueResolverSettings_ID" = d."expressionValueResolverSettings_ExpressionValueResolveru8c5_OID")
    WHERE d."expressionValueResolverSettings_ExpressionValueResolveru8c5_OID" IS NOT NULL;

UPDATE public."Definition" d SET value_processor_id =
    (SELECT vp.id FROM public.value_processor vp
         WHERE vp.temp_definition_id = d.id AND vp.temp_definition_version = d.version);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml', NOW(), 204, '8:746cea8173de393da92303ce7d6acf68', 'sqlFile; sqlFile', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor DROP CONSTRAINT fk_value_processor_definition;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml', NOW(), 205, '8:e479e823984ace8f6d1e35363b7db347', 'dropForeignKeyConstraint baseTableName=value_processor, constraintName=fk_value_processor_definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml::6::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor DROP COLUMN temp_definition_id;

ALTER TABLE public.value_processor DROP COLUMN temp_definition_version;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/migrate-data-from-expressionvalueresolversettings-table.xml', NOW(), 206, '8:f8d9d8c71a3cd6537158015a7fc394d3', 'dropColumn tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/deprecate-expressionvalueresolversettings-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" RENAME COLUMN "expressionValueResolverSettings_ExpressionValueResolveru8c5_OID" TO legacy_expression_value_resolver_settings_id;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/deprecate-expressionvalueresolversettings-table.xml', NOW(), 207, '8:aaf0ecbfb6d0409c57a5f9b62c3a8466', 'renameColumn newColumnName=legacy_expression_value_resolver_settings_id, oldColumnName=expressionValueResolverSettings_ExpressionValueResolveru8c5_OID, tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/deprecate-expressionvalueresolversettings-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" DROP CONSTRAINT "Definition_FK1";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/deprecate-expressionvalueresolversettings-table.xml', NOW(), 208, '8:b3dfcff472208a18a4d6d683477b74f3', 'dropForeignKeyConstraint baseTableName=Definition, constraintName=Definition_FK1', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/deprecate-expressionvalueresolversettings-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."ExpressionValueResolverSettings" RENAME TO legacy_expression_value_resolver_settings;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/deprecate-expressionvalueresolversettings-table.xml', NOW(), 209, '8:db93d5eb9a51398c7c35719333a38e61', 'renameTable newTableName=legacy_expression_value_resolver_settings, oldTableName=ExpressionValueResolverSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/changelog.xml::1::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.6/changelog.xml', NOW(), 210, '8:a49484ecbdc6977a5d519e089621f99f', 'tagDatabase', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL, '8.6');

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/add-name-column-to-value-processor-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor ADD name VARCHAR(255);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/add-name-column-to-value-processor-table.xml', NOW(), 211, '8:7d83becd40cc99f98b5f4daaf94627f9', 'addColumn tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/drop-expressionvalueresolversettings-table.xml::1::symphonic
SET SEARCH_PATH TO public;

DROP INDEX public."Definition_N50";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/drop-expressionvalueresolversettings-table.xml', NOW(), 212, '8:bf14a8b3939ccf1feb44e71d7c4a58df', 'dropIndex indexName=Definition_N50, tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/drop-expressionvalueresolversettings-table.xml::2::symphonic
SET SEARCH_PATH TO public;

DROP TABLE public.legacy_expression_value_resolver_settings;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/drop-expressionvalueresolversettings-table.xml', NOW(), 213, '8:84e46e699b34b827ce13594442e4e9ee', 'dropTable tableName=legacy_expression_value_resolver_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/drop-expressionvalueresolversettings-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" DROP COLUMN legacy_expression_value_resolver_settings_id;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/drop-expressionvalueresolversettings-table.xml', NOW(), 214, '8:1e53d106fe28e3ac25b052917d4e957b', 'dropColumn columnName=legacy_expression_value_resolver_settings_id, tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.processor_element (chain_id BIGINT NOT NULL, element_id BIGINT NOT NULL, order_id INTEGER NOT NULL);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml', NOW(), 215, '8:1b124a6515653698542dadf5212c6c44', 'createTable tableName=processor_element', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.processor_element ADD CONSTRAINT pk_processor_element PRIMARY KEY (chain_id, element_id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml', NOW(), 216, '8:5952e0fd4b2720f4e3b3cc75643900f4', 'addPrimaryKey constraintName=pk_processor_element, tableName=processor_element', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.processor_element ADD CONSTRAINT fk_processor_element_value_processor_chain FOREIGN KEY (chain_id) REFERENCES public.value_processor (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml', NOW(), 217, '8:11f8395c10c43898bedb31d87a3db723', 'addForeignKeyConstraint baseTableName=processor_element, constraintName=fk_processor_element_value_processor_chain, referencedTableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.processor_element ADD CONSTRAINT fk_processor_element_value_processor_element FOREIGN KEY (element_id) REFERENCES public.value_processor (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml', NOW(), 218, '8:b46213ff436ce2877da4d945393a87d5', 'addForeignKeyConstraint baseTableName=processor_element, constraintName=fk_processor_element_value_processor_element, referencedTableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml::6::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.processor_element ADD CONSTRAINT uq_processor_element UNIQUE (chain_id, order_id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml', NOW(), 219, '8:01f547c630562d8b9a0cad0a4167b8d1', 'addUniqueConstraint constraintName=uq_processor_element, tableName=processor_element', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml::7::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.processor_element ADD CONSTRAINT ck_processor_element CHECK (chain_id != element_id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/create-processor_element-table.xml', NOW(), 220, '8:97a3fe9570299a112a917e63dc9bc8f9', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/add-processor-column-to-attribute-resolver-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."AttributeResolver" ADD value_processor_id BIGINT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/add-processor-column-to-attribute-resolver-table.xml', NOW(), 221, '8:751815d2b239a0eb0678d73535c81324', 'addColumn tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/add-processor-column-to-attribute-resolver-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."AttributeResolver" ADD CONSTRAINT fk_attribute_resolver_value_processor FOREIGN KEY (value_processor_id) REFERENCES public.value_processor (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/add-processor-column-to-attribute-resolver-table.xml', NOW(), 222, '8:72e4d7d2ebfe61383ff5720bc3a133cb', 'addForeignKeyConstraint baseTableName=AttributeResolver, constraintName=fk_attribute_resolver_value_processor, referencedTableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/add-name-column-to-attribute-resolver-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."AttributeResolver" ADD name VARCHAR(255);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/add-name-column-to-attribute-resolver-table.xml', NOW(), 223, '8:c095d09f351bfe350324793e7f8bee20', 'addColumn tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/changelog.xml::1::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.7/changelog.xml', NOW(), 224, '8:45726b9792c759a1a47e4e424df0bd40', 'tagDatabase', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL, '8.7');

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.8/changelog.xml::1::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.8/changelog.xml', NOW(), 225, '8:416ef0dc6e01e5481f4ab63a1b50aec9', 'tagDatabase', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL, '8.8');

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-MultiPropertiesProperty-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."MultiProperties$Property" RENAME TO multi_properties_property;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-MultiPropertiesProperty-table.xml', NOW(), 226, '8:6e79ba2d8b165b4e0e2c9beb559429dc', 'renameTable newTableName=multi_properties_property, oldTableName=MultiProperties$Property', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-MultiPropertiesProperty-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.multi_properties_property RENAME COLUMN "MultiProperties24Property_ID" TO id;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-MultiPropertiesProperty-table.xml', NOW(), 227, '8:1a9450cb986f6299f7dcddcaaec5c202', 'renameColumn newColumnName=id, oldColumnName=MultiProperties24Property_ID, tableName=multi_properties_property', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Target$TargetedDefinitions" RENAME TO targeted_definitions;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml', NOW(), 228, '8:8c11b7a867c079011bcceb132688ccdd', 'renameTable newTableName=targeted_definitions, oldTableName=Target$TargetedDefinitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.targeted_definitions RENAME COLUMN "Target24TargetedDefinitions_ID" TO id;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml', NOW(), 229, '8:774759b746af17eb6b76a2b3f4df0024', 'renameColumn newColumnName=id, oldColumnName=Target24TargetedDefinitions_ID, tableName=targeted_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Target$TargetedDefinitions_definitions" DROP CONSTRAINT "Target$TargetedDefinitions_definitions_FK1";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml', NOW(), 230, '8:5e017f1387d9db62934e0c4c57ea4a6a', 'dropForeignKeyConstraint baseTableName=Target$TargetedDefinitions_definitions, constraintName=Target$TargetedDefinitions_definitions_FK1', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml::6::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Target_targetedDimensions" DROP CONSTRAINT "Target_targetedDimensions_FK2";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml', NOW(), 231, '8:eb1eb0e35e45ae833079e2a330d96a6c', 'dropForeignKeyConstraint baseTableName=Target_targetedDimensions, constraintName=Target_targetedDimensions_FK2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml::7::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.targeted_definitions DROP CONSTRAINT "Target$TargetedDefinitions_PK";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml', NOW(), 232, '8:64a78bba03016616a096b959a7008c82', 'dropPrimaryKey constraintName=Target$TargetedDefinitions_PK, tableName=targeted_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml::9::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.targeted_definitions ADD CONSTRAINT pk_targeted_definitions PRIMARY KEY (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('9', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml', NOW(), 233, '8:ed567eb2836bd039005702c94d376df7', 'addPrimaryKey constraintName=pk_targeted_definitions, tableName=targeted_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml::10::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Target$TargetedDefinitions_definitions" ADD CONSTRAINT "Target$TargetedDefinitions_definitions_FK1" FOREIGN KEY ("Target24TargetedDefinitions_ID_OID") REFERENCES public.targeted_definitions (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('10', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml', NOW(), 234, '8:0317428ab25cb86de9b796609b481f9f', 'addForeignKeyConstraint baseTableName=Target$TargetedDefinitions_definitions, constraintName=Target$TargetedDefinitions_definitions_FK1, referencedTableName=targeted_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml::12::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Target_targetedDimensions" ADD CONSTRAINT "Target_targetedDimensions_FK2" FOREIGN KEY ("Target24TargetedDefinitions_ID_VID") REFERENCES public.targeted_definitions (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('12', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-table.xml', NOW(), 235, '8:b069dd1f79cbfa5f3d7ea49ab3b9ce54', 'addForeignKeyConstraint baseTableName=Target_targetedDimensions, constraintName=Target_targetedDimensions_FK2, referencedTableName=targeted_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Target$TargetedDefinitions_definitions" RENAME TO targeted_definitions_definitions;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 236, '8:85e3136ff3595bbc1378abbe601898c2', 'renameTable newTableName=targeted_definitions_definitions, oldTableName=Target$TargetedDefinitions_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.targeted_definitions_definitions RENAME COLUMN "Target24TargetedDefinitions_ID_OID" TO targeted_definitions_id;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 237, '8:eefafde4604f10c7a2b6a31f24218f0d', 'renameColumn newColumnName=targeted_definitions_id, oldColumnName=Target24TargetedDefinitions_ID_OID, tableName=targeted_definitions_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.targeted_definitions_definitions RENAME COLUMN "DefinitionId" TO definition_id;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 238, '8:2503e829a40fe140d3bfe90c5ad7fe93', 'renameColumn newColumnName=definition_id, oldColumnName=DefinitionId, tableName=targeted_definitions_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::5::symphonic
SET SEARCH_PATH TO "public";

ALTER TABLE "public"."targeted_definitions_definitions" RENAME COLUMN "IDX" TO "order_id";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 239, '8:53497cfdc6fa1ee56a22143610decccb', 'renameColumn newColumnName=order_id, oldColumnName=IDX, tableName=targeted_definitions_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::7::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.targeted_definitions_definitions DROP CONSTRAINT "Target$TargetedDefinitions_definitions_PK";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 240, '8:e64185153fe1ab22a63ef21c8eee6070', 'dropPrimaryKey constraintName=Target$TargetedDefinitions_definitions_PK, tableName=targeted_definitions_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::9::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.targeted_definitions_definitions DROP CONSTRAINT "Target$TargetedDefinitions_definitions_FK1";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('9', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 241, '8:722c6019ce38e69e6292a464cfc31c07', 'dropForeignKeyConstraint baseTableName=targeted_definitions_definitions, constraintName=Target$TargetedDefinitions_definitions_FK1', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::11::symphonic
SET SEARCH_PATH TO public;

DROP INDEX public."Target$TargetedDefinitions_definitions_N49";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('11', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 242, '8:8e22d0d22d3b864ddbc274e25d705907', 'dropIndex indexName=Target$TargetedDefinitions_definitions_N49, tableName=targeted_definitions_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::13::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.targeted_definitions_definitions ADD CONSTRAINT pk_targeted_definitions_definitions PRIMARY KEY (targeted_definitions_id, order_id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('13', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 243, '8:2acbddf4d168d2b40b101e0d4d54521a', 'addPrimaryKey constraintName=pk_targeted_definitions_definitions, tableName=targeted_definitions_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::14::symphonic
SET SEARCH_PATH TO public;

CREATE INDEX ix_targeted_definitions_definitions ON public.targeted_definitions_definitions(targeted_definitions_id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('14', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 244, '8:92c6eda122b4dba2516755a65f26714b', 'createIndex indexName=ix_targeted_definitions_definitions, tableName=targeted_definitions_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml::15::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.targeted_definitions_definitions ADD CONSTRAINT fk_targeted_definitions_definitions_targeted_definitions FOREIGN KEY (targeted_definitions_id) REFERENCES public.targeted_definitions (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('15', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/rename-TargetTargetedDefinitions-definitions-table.xml', NOW(), 245, '8:2facb950531c37c1881511548eba9c12', 'addForeignKeyConstraint baseTableName=targeted_definitions_definitions, constraintName=fk_targeted_definitions_definitions_targeted_definitions, referencedTableName=targeted_definitions', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-scenario-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.test_scenario (id BIGINT NOT NULL);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-scenario-table.xml', NOW(), 246, '8:00c6174063077a837f0813d72e1b2cf3', 'createTable tableName=test_scenario', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-scenario-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.test_scenario ADD request_domain_id VARCHAR(36);

ALTER TABLE public.test_scenario ADD request_service_id VARCHAR(36);

ALTER TABLE public.test_scenario ADD request_identity_provider_id VARCHAR(36);

ALTER TABLE public.test_scenario ADD request_action_id VARCHAR(36);

ALTER TABLE public.test_scenario ADD request_attributes VARCHAR(4000);

ALTER TABLE public.test_scenario ADD attribute_overrides VARCHAR(4000);

ALTER TABLE public.test_scenario ADD service_overrides VARCHAR(4000);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-scenario-table.xml', NOW(), 247, '8:6e603fe8d3157e2e866b0def09f59004', 'addColumn tableName=test_scenario', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-scenario-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.test_scenario ADD CONSTRAINT pk__test_scenario PRIMARY KEY (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-scenario-table.xml', NOW(), 248, '8:6001e44f21456c2b065651b9b8b3b1ec', 'addPrimaryKey constraintName=pk__test_scenario, tableName=test_scenario', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-scenario-table.xml::5::symphonic
SET SEARCH_PATH TO public;

CREATE SEQUENCE  IF NOT EXISTS public.test_scenario_id_seq START WITH 1 INCREMENT BY 20;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-scenario-table.xml', NOW(), 249, '8:e939f05a4e461f9445fd15e7ee2dbbf2', 'createSequence sequenceName=test_scenario_id_seq', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.test_case (id BIGINT NOT NULL, test_scenario_id BIGINT);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml', NOW(), 250, '8:4efe26a176c9b2be590f83ddc1a2bd36', 'createTable tableName=test_case', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.test_case ADD test_scenario_definition_id VARCHAR(36);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml', NOW(), 251, '8:e25c24ce6fb889c87e05f6b3d571b14e', 'addColumn tableName=test_case', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.test_case ADD CONSTRAINT pk__test_case PRIMARY KEY (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml', NOW(), 252, '8:3d284f665a11726ab977ccc40a933d9e', 'addPrimaryKey constraintName=pk__test_case, tableName=test_case', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.test_case ADD CONSTRAINT fk__test_case_test_scenario_id FOREIGN KEY (test_scenario_id) REFERENCES public.test_scenario (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml', NOW(), 253, '8:3a5abb600ed54ca36f3df85dd1e36952', 'addForeignKeyConstraint baseTableName=test_case, constraintName=fk__test_case_test_scenario_id, referencedTableName=test_scenario', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml::6::symphonic
SET SEARCH_PATH TO public;

CREATE SEQUENCE  IF NOT EXISTS public.test_case_id_seq START WITH 1 INCREMENT BY 20;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-test-case-table.xml', NOW(), 254, '8:bbeafdcee272b43ddd7fa494ba8c7338', 'createSequence sequenceName=test_case_id_seq', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-tested-entity-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.tested_entity (test_case_id BIGINT NOT NULL);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-tested-entity-table.xml', NOW(), 255, '8:4224d209283f80ac0f307933ffa4801d', 'createTable tableName=tested_entity', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-tested-entity-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.tested_entity ADD entity_id VARCHAR(36) NOT NULL;

ALTER TABLE public.tested_entity ADD entity_type VARCHAR(20) NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-tested-entity-table.xml', NOW(), 256, '8:b385c5f944439ccdc77cc977f6ac5fec', 'addColumn tableName=tested_entity', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-tested-entity-table.xml::4::symphonic
SET SEARCH_PATH TO public;

CREATE INDEX ix__tested_entity__test_case ON public.tested_entity(test_case_id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-tested-entity-table.xml', NOW(), 257, '8:cb9f0a664df325899d90079bf380683c', 'createIndex indexName=ix__tested_entity__test_case, tableName=tested_entity', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-tested-entity-table.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.tested_entity ADD CONSTRAINT fk_tested_entity_test_case FOREIGN KEY (test_case_id) REFERENCES public.test_case (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-tested-entity-table.xml', NOW(), 258, '8:4a3b4bad998f47901d9cc492d01057da', 'addForeignKeyConstraint baseTableName=tested_entity, constraintName=fk_tested_entity_test_case, referencedTableName=test_case', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/alter-definition-table-add-columns-for-test-suite.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ADD test_scenario_id BIGINT;

ALTER TABLE public."Definition" ADD test_case_id BIGINT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/alter-definition-table-add-columns-for-test-suite.xml', NOW(), 259, '8:dbbabbae110b473297556949c4e79cc1', 'addColumn tableName=Definition; addColumn tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/alter-definition-table-add-columns-for-test-suite.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ADD CONSTRAINT fk__definition__test_scenario_id FOREIGN KEY (test_scenario_id) REFERENCES public.test_scenario (id);

ALTER TABLE public."Definition" ADD CONSTRAINT fk__definition__test_case_id FOREIGN KEY (test_case_id) REFERENCES public.test_case (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/alter-definition-table-add-columns-for-test-suite.xml', NOW(), 260, '8:e338e58a9dd47f1d507db0f3351e4a05', 'addForeignKeyConstraint baseTableName=Definition, constraintName=fk__definition__test_scenario_id, referencedTableName=test_scenario; addForeignKeyConstraint baseTableName=Definition, constraintName=fk__definition__test_case_id, referencedTableNam...', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/add-item-processor-column-to-value-processor-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor ADD item_processor_id BIGINT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/add-item-processor-column-to-value-processor-table.xml', NOW(), 261, '8:82f806b329ada17e48acc9edf4e688d0', 'addColumn tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::2::symphonic
SET SEARCH_PATH TO public;

alter table public.value_processor
                alter column id drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 262, '8:72a725bda220fdf9fbbc5dc0a4917aff', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::4::symphonic
SET SEARCH_PATH TO public;

alter table public."WeightedChildren"
                alter column "WeightedChildren_ID" drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 263, '8:8af928f7fb63ba347ab5be239df400cd', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::6::symphonic
SET SEARCH_PATH TO public;

alter table public."AttributeResolver"
                alter column "AttributeResolver_ID" drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 264, '8:53a86a74f96d22f981a16921a89c729c', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::8::symphonic
SET SEARCH_PATH TO public;

alter table public."CombiningAlgorithm"
                alter column "CombiningAlgorithm_ID" drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('8', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 265, '8:5df6e7f9d0af0123cdbd7ddac2d9f798', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::10::symphonic
SET SEARCH_PATH TO public;

alter table public."EntityRelationship"
                alter column "EntityRelationship_ID" drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('10', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 266, '8:c01ce86955f5d9e2e6703947c87e55b2', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::12::symphonic
SET SEARCH_PATH TO public;

alter table public."HttpRequestHeader"
                alter column "HttpRequestHeader_ID" drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('12', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 267, '8:ef5f7e5a09caaf83c7b782bf16402e30', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::14::symphonic
SET SEARCH_PATH TO public;

alter table public.multi_properties_property
                alter column id drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('14', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 268, '8:f6666959eb05418fa2112df4f481122d', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::16::symphonic
SET SEARCH_PATH TO public;

alter table public."ServiceSettings"
                alter column "ServiceSettings_ID" drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('16', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 269, '8:4241e02a372215507136fc8ca4bdbf98', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::18::symphonic
SET SEARCH_PATH TO public;

alter table public.targeted_definitions
                alter column id drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('18', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 270, '8:5bd2c60010de852e79d07991e5743e07', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::20::symphonic
SET SEARCH_PATH TO public;

alter table public.keystore_configuration
                alter column id drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('20', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 271, '8:a0dfc1984c90a066d8951d9f60c02a25', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::22::symphonic
SET SEARCH_PATH TO public;

alter table public.deployment_package_approval
                alter column id drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('22', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 272, '8:d5ab89623668e09dfd8cd9259203954c', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::24::symphonic
SET SEARCH_PATH TO public;

alter table public.permissions
                alter column id drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('24', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 273, '8:b86fa235e33bb919fe76352d16c2a615', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::26::symphonic
SET SEARCH_PATH TO public;

alter table public.role_permissions
                alter column id drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('26', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 274, '8:28c60d9af6ed45355d91269b442df228', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml::28::symphonic
SET SEARCH_PATH TO public;

alter table public.tls_settings
                alter column id drop identity;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('28', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/drop-identity-columns.xml', NOW(), 275, '8:3cbe5116c9774ded53dec5648c1e5ed8', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."AttributeResolver" RENAME COLUMN "Condition" TO legacy_condition;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml', NOW(), 276, '8:e8d859f9b75a44cf0be28c4f7c3b6b52', 'renameColumn newColumnName=legacy_condition, oldColumnName=Condition, tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."AttributeResolver" RENAME COLUMN value TO legacy_value;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml', NOW(), 277, '8:d0613138a83e49e7026a5ee59895d0c6', 'renameColumn newColumnName=legacy_value, oldColumnName=value, tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."AttributeResolver" ADD "Condition" TEXT;

ALTER TABLE public."AttributeResolver" ADD value TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml', NOW(), 278, '8:d2deda7a98a4ea6e7ef79f64a3443363', 'addColumn tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

UPDATE public."AttributeResolver" SET "Condition" = encode(lo_get(cast(legacy_condition as int)), 'escape') WHERE legacy_condition IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml', NOW(), 279, '8:17eb0ead50495561f11d612fc1055099', 'update tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

UPDATE public."AttributeResolver" SET value = encode(lo_get(cast(legacy_value as int)), 'escape') WHERE legacy_value IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-AttributeResolver-from-large-object-to-toasted-fields.xml', NOW(), 280, '8:b644e79866666761481142a08dbdf96e', 'update tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."CamelSettings" RENAME COLUMN body TO legacy_body;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml', NOW(), 281, '8:aed355c34a1143c75ef6e1fe49ba9325', 'renameColumn newColumnName=legacy_body, oldColumnName=body, tableName=CamelSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."CamelSettings" RENAME COLUMN configuration TO legacy_configuration;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml', NOW(), 282, '8:a1ad7b893705888e4267b270abfb6e5e', 'renameColumn newColumnName=legacy_configuration, oldColumnName=configuration, tableName=CamelSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."CamelSettings" RENAME COLUMN headers TO legacy_headers;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml', NOW(), 283, '8:1ab8475aec7669d04cf64d6a1a94dd41', 'renameColumn newColumnName=legacy_headers, oldColumnName=headers, tableName=CamelSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."CamelSettings" ADD body TEXT;

ALTER TABLE public."CamelSettings" ADD configuration TEXT;

ALTER TABLE public."CamelSettings" ADD headers TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml', NOW(), 284, '8:fdee564dd07f8caf2f8aef6166e1aae8', 'addColumn tableName=CamelSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

UPDATE public."CamelSettings" SET body = encode(lo_get(cast(legacy_body as int)), 'escape') WHERE legacy_body IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml', NOW(), 285, '8:003c9ffb54045e46180f0d7ae922bd51', 'update tableName=CamelSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml::6::symphonic
SET SEARCH_PATH TO public;

UPDATE public."CamelSettings" SET configuration = encode(lo_get(cast(legacy_configuration as int)), 'escape') WHERE legacy_configuration IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml', NOW(), 286, '8:41890c528b440625a02d507b0741fce7', 'update tableName=CamelSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml::7::symphonic
SET SEARCH_PATH TO public;

UPDATE public."CamelSettings" SET headers = encode(lo_get(cast(legacy_headers as int)), 'escape') WHERE legacy_headers IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-CamelSettings-from-large-object-to-toasted-fields.xml', NOW(), 287, '8:d714915ee3abc3de3049e4ca312f85e1', 'update tableName=CamelSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."DatabaseSettings" RENAME COLUMN "connectionString" TO legacy_connection_string;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml', NOW(), 288, '8:d6aa6c3916f5a88e7da2fe319a0b3342', 'renameColumn newColumnName=legacy_connection_string, oldColumnName=connectionString, tableName=DatabaseSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."DatabaseSettings" RENAME COLUMN sql TO legacy_sql;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml', NOW(), 289, '8:263662120ce799d6405c02b9d783b082', 'renameColumn newColumnName=legacy_sql, oldColumnName=sql, tableName=DatabaseSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."DatabaseSettings" ADD "connectionString" TEXT;

ALTER TABLE public."DatabaseSettings" ADD sql TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml', NOW(), 290, '8:39178dcdb738073abb39979ce5802763', 'addColumn tableName=DatabaseSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

UPDATE public."DatabaseSettings" SET "connectionString" = encode(lo_get(cast(legacy_connection_string as int)), 'escape') WHERE legacy_connection_string IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml', NOW(), 291, '8:4dc0e3574dee04b5c402921a70b8e1b7', 'update tableName=DatabaseSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

UPDATE public."DatabaseSettings" SET sql = encode(lo_get(cast(legacy_sql as int)), 'escape') WHERE legacy_sql IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DatabaseSettings-from-large-object-to-toasted-fields.xml', NOW(), 292, '8:48fb3eebd969c4ed1925c650e1f5a99a', 'update tableName=DatabaseSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" RENAME COLUMN description TO legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml', NOW(), 293, '8:25d7f55a4610001c0431169f5392dd45', 'renameColumn newColumnName=legacy_description, oldColumnName=description, tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ALTER COLUMN  legacy_description DROP NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml', NOW(), 294, '8:721818b5e4a043ff1eae50dacea67546', 'dropNotNullConstraint columnName=legacy_description, tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" RENAME COLUMN "Condition" TO legacy_condition;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml', NOW(), 295, '8:1ff464219d0725e192aafd49c3605221', 'renameColumn newColumnName=legacy_condition, oldColumnName=Condition, tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" RENAME COLUMN "defaultValue" TO legacy_default_value;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml', NOW(), 296, '8:711e265bb043021b4d6d2256b9b0457e', 'renameColumn newColumnName=legacy_default_value, oldColumnName=defaultValue, tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ADD description TEXT;

ALTER TABLE public."Definition" ADD "Condition" TEXT;

ALTER TABLE public."Definition" ADD "defaultValue" TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml', NOW(), 297, '8:9d252e459db9ac3fe3d87cb719cbaa85', 'addColumn tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml::6::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Definition" SET description = encode(lo_get(cast(legacy_description as int)), 'escape') WHERE legacy_description IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml', NOW(), 298, '8:fe9096f436fdb0a49a9c2c499278ffd9', 'update tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml::7::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Definition" SET "Condition" = encode(lo_get(cast(legacy_condition as int)), 'escape') WHERE legacy_condition IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml', NOW(), 299, '8:e7fe3042afe7eafa79bde54f68fb96b9', 'update tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml::8::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Definition" SET "defaultValue" = encode(lo_get(cast(legacy_default_value as int)), 'escape') WHERE legacy_default_value IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('8', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml', NOW(), 300, '8:e18266685e2f340d6562b2fbb0032124', 'update tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml::9::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ALTER COLUMN  description SET NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('9', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Definition-from-large-object-to-toasted-fields.xml', NOW(), 301, '8:63f60e132e1c246aafb13bd1480fab34', 'addNotNullConstraint columnName=description, tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DeploymentPackage-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."DeploymentPackage" RENAME COLUMN "snapshotMessage" TO legacy_snapshot_message;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DeploymentPackage-from-large-object-to-toasted-fields.xml', NOW(), 302, '8:5c482325ce02fbfc534c51488d489651', 'renameColumn newColumnName=legacy_snapshot_message, oldColumnName=snapshotMessage, tableName=DeploymentPackage', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DeploymentPackage-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."DeploymentPackage" ADD "snapshotMessage" TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DeploymentPackage-from-large-object-to-toasted-fields.xml', NOW(), 303, '8:9419d21cdc7a4b4f921e9d9458536c57', 'addColumn tableName=DeploymentPackage', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DeploymentPackage-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

UPDATE public."DeploymentPackage" SET "snapshotMessage" = encode(lo_get(cast(legacy_snapshot_message as int)), 'escape') WHERE legacy_snapshot_message IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-DeploymentPackage-from-large-object-to-toasted-fields.xml', NOW(), 304, '8:f03a6384d42dcc1315853cf945db8782', 'update tableName=DeploymentPackage', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-HttpRequestHeader-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."HttpRequestHeader" RENAME COLUMN value TO legacy_value;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-HttpRequestHeader-from-large-object-to-toasted-fields.xml', NOW(), 305, '8:b66b90a09fb74d577488f1d506b775da', 'renameColumn newColumnName=legacy_value, oldColumnName=value, tableName=HttpRequestHeader', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-HttpRequestHeader-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."HttpRequestHeader" ADD value TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-HttpRequestHeader-from-large-object-to-toasted-fields.xml', NOW(), 306, '8:b52341ba938f688c6e223bb7c0a0cafa', 'addColumn tableName=HttpRequestHeader', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-HttpRequestHeader-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

UPDATE public."HttpRequestHeader" SET value = encode(lo_get(cast(legacy_value as int)), 'escape') WHERE legacy_value IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-HttpRequestHeader-from-large-object-to-toasted-fields.xml', NOW(), 307, '8:7b2d134182173b20267add709009e168', 'update tableName=HttpRequestHeader', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration RENAME COLUMN store_name TO legacy_store_name;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 308, '8:c984e84a81148ce50e418ea1a6177672', 'renameColumn newColumnName=legacy_store_name, oldColumnName=store_name, tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration ALTER COLUMN  legacy_store_name DROP NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 309, '8:c7399de000ca6405971a3937b1167530', 'dropNotNullConstraint columnName=legacy_store_name, tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration RENAME COLUMN alias TO legacy_alias;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 310, '8:ccfeb3befb7ba7518fcf675aac0d4581', 'renameColumn newColumnName=legacy_alias, oldColumnName=alias, tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration ALTER COLUMN  legacy_alias DROP NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 311, '8:5b69d8a23bb4a0d251c78f9e86dcd5e7', 'dropNotNullConstraint columnName=legacy_alias, tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration RENAME COLUMN alias_password TO legacy_alias_password;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 312, '8:37e0d88459ec12ca313b434846f20f51', 'renameColumn newColumnName=legacy_alias_password, oldColumnName=alias_password, tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::6::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration ADD store_name TEXT;

ALTER TABLE public.keystore_configuration ADD alias TEXT;

ALTER TABLE public.keystore_configuration ADD alias_password TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 313, '8:a0bf120a303a3fa60d60678e77a1b100', 'addColumn tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::7::symphonic
SET SEARCH_PATH TO public;

UPDATE public.keystore_configuration SET store_name = encode(lo_get(cast(legacy_store_name as int)), 'escape') WHERE legacy_store_name IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 314, '8:0769c3a6b501535bcd3b508eb4717339', 'update tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::8::symphonic
SET SEARCH_PATH TO public;

UPDATE public.keystore_configuration SET alias = encode(lo_get(cast(legacy_alias as int)), 'escape') WHERE legacy_alias IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('8', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 315, '8:b3de73a3b90f30765a57add9e94e6b64', 'update tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::9::symphonic
SET SEARCH_PATH TO public;

UPDATE public.keystore_configuration SET alias_password = encode(lo_get(cast(legacy_alias_password as int)), 'escape') WHERE legacy_alias_password IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('9', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 316, '8:de9cc9ff5580d941acf535932e6898b2', 'update tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::10::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration ALTER COLUMN  store_name SET NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('10', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 317, '8:d05c9e04d2492d19f510c3ee7c017160', 'addNotNullConstraint columnName=store_name, tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml::11::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration ALTER COLUMN  alias SET NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('11', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-keystore_configuration-from-large-object-to-toasted-fields.xml', NOW(), 318, '8:75f42fcc0d9b93f2b5b6c1c09d5b1a8c', 'addNotNullConstraint columnName=alias, tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" RENAME COLUMN "builtConnectionPath" TO legacy_built_connection_path;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 319, '8:9729005a8dc6a2c65e2de33ef41a164f', 'renameColumn newColumnName=legacy_built_connection_path, oldColumnName=builtConnectionPath, tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" RENAME COLUMN description TO legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 320, '8:1768eddd2e27f0e48e2f2b77bf96717d', 'renameColumn newColumnName=legacy_description, oldColumnName=description, tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" RENAME COLUMN "ldapFilter" TO legacy_ldap_filter;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 321, '8:32ba0092abeddd2bdf2eaf97c1bb8d74', 'renameColumn newColumnName=legacy_ldap_filter, oldColumnName=ldapFilter, tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" RENAME COLUMN "ldapSearchBase" TO legacy_ldap_search_base;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 322, '8:4a5ff3f48756d22951903972be892b4b', 'renameColumn newColumnName=legacy_ldap_search_base, oldColumnName=ldapSearchBase, tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" RENAME COLUMN name TO legacy_name;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 323, '8:ccc5457a7fca2c9d64efec2ba6d62953', 'renameColumn newColumnName=legacy_name, oldColumnName=name, tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::6::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" RENAME COLUMN password TO legacy_password;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 324, '8:7c181e87c7c0d6074015ab4bb798e710', 'renameColumn newColumnName=legacy_password, oldColumnName=password, tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::7::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" RENAME COLUMN server TO legacy_server;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 325, '8:b54dbb379b43c1dcacaaf1735114488a', 'renameColumn newColumnName=legacy_server, oldColumnName=server, tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::8::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" RENAME COLUMN username TO legacy_username;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('8', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 326, '8:7ae2864b42395d9a776f70b550c72257', 'renameColumn newColumnName=legacy_username, oldColumnName=username, tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::9::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" ADD "builtConnectionPath" TEXT;

ALTER TABLE public."LdapSettings" ADD description TEXT;

ALTER TABLE public."LdapSettings" ADD "ldapFilter" TEXT;

ALTER TABLE public."LdapSettings" ADD "ldapSearchBase" TEXT;

ALTER TABLE public."LdapSettings" ADD name TEXT;

ALTER TABLE public."LdapSettings" ADD password TEXT;

ALTER TABLE public."LdapSettings" ADD server TEXT;

ALTER TABLE public."LdapSettings" ADD username TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('9', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 327, '8:26cb097b76cbe7462fa274465fd99326', 'addColumn tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::10::symphonic
SET SEARCH_PATH TO public;

UPDATE public."LdapSettings" SET "builtConnectionPath" = encode(lo_get(cast(legacy_built_connection_path as int)), 'escape') WHERE legacy_built_connection_path IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('10', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 328, '8:4c1beb8867bc2213f8371d0820bf7300', 'update tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::11::symphonic
SET SEARCH_PATH TO public;

UPDATE public."LdapSettings" SET description = encode(lo_get(cast(legacy_description as int)), 'escape') WHERE legacy_description IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('11', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 329, '8:9ebc38fc132182f36bcc22023716a79c', 'update tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::12::symphonic
SET SEARCH_PATH TO public;

UPDATE public."LdapSettings" SET "ldapFilter" = encode(lo_get(cast(legacy_ldap_filter as int)), 'escape') WHERE legacy_ldap_filter IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('12', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 330, '8:ecceb610b7498bada05f0a50a6cb94a1', 'update tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::13::symphonic
SET SEARCH_PATH TO public;

UPDATE public."LdapSettings" SET "ldapSearchBase" = encode(lo_get(cast(legacy_ldap_search_base as int)), 'escape') WHERE legacy_ldap_search_base IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('13', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 331, '8:11f3ffaa2053f1fdba1eaae0b393e98f', 'update tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::14::symphonic
SET SEARCH_PATH TO public;

UPDATE public."LdapSettings" SET name = encode(lo_get(cast(legacy_name as int)), 'escape') WHERE legacy_name IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('14', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 332, '8:0fdb4ca0e4949e1ddb4e0119108dd95d', 'update tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::15::symphonic
SET SEARCH_PATH TO public;

UPDATE public."LdapSettings" SET password = encode(lo_get(cast(legacy_password as int)), 'escape') WHERE legacy_password IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('15', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 333, '8:9416b16c7d94611b46b90eafb21d720f', 'update tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::16::symphonic
SET SEARCH_PATH TO public;

UPDATE public."LdapSettings" SET server = encode(lo_get(cast(legacy_server as int)), 'escape') WHERE legacy_server IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('16', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 334, '8:552ef098066dafd867aaf889b218ff06', 'update tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml::17::symphonic
SET SEARCH_PATH TO public;

UPDATE public."LdapSettings" SET username = encode(lo_get(cast(legacy_username as int)), 'escape') WHERE legacy_username IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('17', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-LdapSettings-from-large-object-to-toasted-fields.xml', NOW(), 335, '8:97f9a07f7f742dbfe6803207bd349301', 'update tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.multi_properties_property RENAME COLUMN value TO legacy_value;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml', NOW(), 336, '8:5e73cd429e0d57f06091091aaed8525a', 'renameColumn newColumnName=legacy_value, oldColumnName=value, tableName=multi_properties_property', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.multi_properties_property ALTER COLUMN  legacy_value DROP NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml', NOW(), 337, '8:30cb6ddd25fad00c53eebda5bcfbf5c9', 'dropNotNullConstraint columnName=legacy_value, tableName=multi_properties_property', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.multi_properties_property ADD value TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml', NOW(), 338, '8:15491580a12f418a6719f6ab324a654b', 'addColumn tableName=multi_properties_property', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

UPDATE public.multi_properties_property SET value = encode(lo_get(cast(legacy_value as int)), 'escape') WHERE legacy_value IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml', NOW(), 339, '8:1766ac3ee98f591045a9be16ec328ce5', 'update tableName=multi_properties_property', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.multi_properties_property ALTER COLUMN  value SET NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-multi_properties_property-from-large-object-to-toasted-fields.xml', NOW(), 340, '8:a86949c70d66039e3494e417a5edbfb1', 'addNotNullConstraint columnName=value, tableName=multi_properties_property', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Policy2" RENAME COLUMN "Condition" TO legacy_condition;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml', NOW(), 341, '8:a4ef8346dbb78ebe64a11be3c54efa51', 'renameColumn newColumnName=legacy_condition, oldColumnName=Condition, tableName=Policy2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Policy2" RENAME COLUMN description TO legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml', NOW(), 342, '8:142f27ed7117df01056a7ba49860138f', 'renameColumn newColumnName=legacy_description, oldColumnName=description, tableName=Policy2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Policy2" ADD "Condition" TEXT;

ALTER TABLE public."Policy2" ADD description TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml', NOW(), 343, '8:5ba30bf15654e72d72f9d06c4a603567', 'addColumn tableName=Policy2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Policy2" SET "Condition" = encode(lo_get(cast(legacy_condition as int)), 'escape') WHERE legacy_condition IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml', NOW(), 344, '8:fc41339451509aa64c6b6d5e7c666004', 'update tableName=Policy2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Policy2" SET description = encode(lo_get(cast(legacy_description as int)), 'escape') WHERE legacy_description IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Policy2-from-large-object-to-toasted-fields.xml', NOW(), 345, '8:1e6ef447abb9f268a98b3c92b20f0c81', 'update tableName=Policy2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."PolicySet2" RENAME COLUMN "Condition" TO legacy_condition;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml', NOW(), 346, '8:c7de709252bf5503b0a80a004218064d', 'renameColumn newColumnName=legacy_condition, oldColumnName=Condition, tableName=PolicySet2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."PolicySet2" RENAME COLUMN description TO legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml', NOW(), 347, '8:c691497a3bdbfe824b9e5d975490b654', 'renameColumn newColumnName=legacy_description, oldColumnName=description, tableName=PolicySet2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."PolicySet2" ADD "Condition" TEXT;

ALTER TABLE public."PolicySet2" ADD description TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml', NOW(), 348, '8:c0259c25dc9d47060dde2d56d4022ca4', 'addColumn tableName=PolicySet2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

UPDATE public."PolicySet2" SET "Condition" = encode(lo_get(cast(legacy_condition as int)), 'escape') WHERE legacy_condition IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml', NOW(), 349, '8:242d40583a463df9bcd70e93f04e42ba', 'update tableName=PolicySet2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

UPDATE public."PolicySet2" SET description = encode(lo_get(cast(legacy_description as int)), 'escape') WHERE legacy_description IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-PolicySet2-from-large-object-to-toasted-fields.xml', NOW(), 350, '8:fea59b57b885759a0c9574aa09fa01c6', 'update tableName=PolicySet2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."RestSettings" RENAME COLUMN "AuthenticationAttributes" TO legacy_authentication_attributes;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml', NOW(), 351, '8:7d483b9d35cf2501693f245e77afbde2', 'renameColumn newColumnName=legacy_authentication_attributes, oldColumnName=AuthenticationAttributes, tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."RestSettings" RENAME COLUMN body TO legacy_body;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml', NOW(), 352, '8:8ec7c1d5c09e849d5318b0c6c391580a', 'renameColumn newColumnName=legacy_body, oldColumnName=body, tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."RestSettings" RENAME COLUMN "urlFormat" TO legacy_url_format;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml', NOW(), 353, '8:a263a10a9334f8d95c4eb837fe85a394', 'renameColumn newColumnName=legacy_url_format, oldColumnName=urlFormat, tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."RestSettings" ALTER COLUMN  legacy_url_format DROP NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml', NOW(), 354, '8:710b0246c8b72a7f7d6ec1995ba791da', 'dropNotNullConstraint columnName=legacy_url_format, tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."RestSettings" ADD "AuthenticationAttributes" TEXT;

ALTER TABLE public."RestSettings" ADD body TEXT;

ALTER TABLE public."RestSettings" ADD "urlFormat" TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml', NOW(), 355, '8:b96311db8215b6cba4d78c9212a9cf0d', 'addColumn tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml::6::symphonic
SET SEARCH_PATH TO public;

UPDATE public."RestSettings" SET "AuthenticationAttributes" = encode(lo_get(cast(legacy_authentication_attributes as int)), 'escape') WHERE legacy_authentication_attributes IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml', NOW(), 356, '8:26e8b8cfc96a49df4d66af3067248c98', 'update tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml::7::symphonic
SET SEARCH_PATH TO public;

UPDATE public."RestSettings" SET body = encode(lo_get(cast(legacy_body as int)), 'escape') WHERE legacy_body IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml', NOW(), 357, '8:76d018385aab29f3d809a91db56eccdb', 'update tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml::8::symphonic
SET SEARCH_PATH TO public;

UPDATE public."RestSettings" SET "urlFormat" = encode(lo_get(cast(legacy_url_format as int)), 'escape') WHERE legacy_url_format IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('8', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml', NOW(), 358, '8:112d2e04548bad6acfa3c9d9bc31dd08', 'update tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml::9::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."RestSettings" ALTER COLUMN  "urlFormat" SET NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('9', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-RestSettings-from-large-object-to-toasted-fields.xml', NOW(), 359, '8:f4ec48126b2a0c54e37c2913a2caabf8', 'addNotNullConstraint columnName=urlFormat, tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Rule2" RENAME COLUMN "Condition" TO legacy_condition;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml', NOW(), 360, '8:395e97a3f6e3482a65ec3d6521b3a351', 'renameColumn newColumnName=legacy_condition, oldColumnName=Condition, tableName=Rule2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Rule2" RENAME COLUMN description TO legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml', NOW(), 361, '8:0a1a03a4fc674c31df1c86a551657721', 'renameColumn newColumnName=legacy_description, oldColumnName=description, tableName=Rule2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Rule2" ADD "Condition" TEXT;

ALTER TABLE public."Rule2" ADD description TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml', NOW(), 362, '8:fc3574874d2491a6c84fde51e41e4789', 'addColumn tableName=Rule2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Rule2" SET "Condition" = encode(lo_get(cast(legacy_condition as int)), 'escape') WHERE legacy_condition IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml', NOW(), 363, '8:e30e346f9c56ba825e2a7a0914906af9', 'update tableName=Rule2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Rule2" SET description = encode(lo_get(cast(legacy_description as int)), 'escape') WHERE legacy_description IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Rule2-from-large-object-to-toasted-fields.xml', NOW(), 364, '8:af4126f4e1de96de00fc434f5b11f206', 'update tableName=Rule2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-ServiceSettings-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."ServiceSettings" RENAME COLUMN description TO legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-ServiceSettings-from-large-object-to-toasted-fields.xml', NOW(), 365, '8:f2bb6734640eebcc1776c2f3b4cd15ef', 'renameColumn newColumnName=legacy_description, oldColumnName=description, tableName=ServiceSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-ServiceSettings-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."ServiceSettings" ADD description TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-ServiceSettings-from-large-object-to-toasted-fields.xml', NOW(), 366, '8:62318cf793850dea6004da6331d172f8', 'addColumn tableName=ServiceSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-ServiceSettings-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

UPDATE public."ServiceSettings" SET description = encode(lo_get(cast(legacy_description as int)), 'escape') WHERE legacy_description IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-ServiceSettings-from-large-object-to-toasted-fields.xml', NOW(), 367, '8:5646d81e3bc52a0c6d2fc9053f8d0d05', 'update tableName=ServiceSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Snapshot" RENAME COLUMN "Approvals" TO legacy_approvals;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml', NOW(), 368, '8:9bcfd20c6e78801a2cbde79a2668dd08', 'renameColumn newColumnName=legacy_approvals, oldColumnName=Approvals, tableName=Snapshot', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Snapshot" RENAME COLUMN "CommitDetails_Message" TO legacy_commit_details_message;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml', NOW(), 369, '8:3c2899dd1e2e21e10cb7ba36a49216ab', 'renameColumn newColumnName=legacy_commit_details_message, oldColumnName=CommitDetails_Message, tableName=Snapshot', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Snapshot" ADD "Approvals" TEXT;

ALTER TABLE public."Snapshot" ADD "CommitDetails_Message" TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml', NOW(), 370, '8:314f8f3c3d20bc63d29d95b182e04a12', 'addColumn tableName=Snapshot', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Snapshot" SET "Approvals" = encode(lo_get(cast(legacy_approvals as int)), 'escape') WHERE legacy_approvals IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml', NOW(), 371, '8:8e00ea00d4158740f1d066f3e8aa0b59', 'update tableName=Snapshot', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Snapshot" SET "CommitDetails_Message" = encode(lo_get(cast(legacy_commit_details_message as int)), 'escape') WHERE legacy_commit_details_message IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Snapshot-from-large-object-to-toasted-fields.xml', NOW(), 372, '8:21838a042a2572383dbeb211a0554492', 'update tableName=Snapshot', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Statement2" RENAME COLUMN description TO legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml', NOW(), 373, '8:266b2e7d2fb258bf8a8a1a310e465ea8', 'renameColumn newColumnName=legacy_description, oldColumnName=description, tableName=Statement2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Statement2" RENAME COLUMN payload TO legacy_payload;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml', NOW(), 374, '8:6033cb0feddbe180834afbcea763934b', 'renameColumn newColumnName=legacy_payload, oldColumnName=payload, tableName=Statement2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Statement2" ALTER COLUMN  legacy_payload DROP NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml', NOW(), 375, '8:51f3c6c0ec1604349736fe2bf3dbf4cc', 'dropNotNullConstraint columnName=legacy_payload, tableName=Statement2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Statement2" ADD description TEXT;

ALTER TABLE public."Statement2" ADD payload TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml', NOW(), 376, '8:61eb97af5f99b07b536053169cdfa45c', 'addColumn tableName=Statement2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml::5::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Statement2" SET description = encode(lo_get(cast(legacy_description as int)), 'escape') WHERE legacy_description IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml', NOW(), 377, '8:c8d14a358b12e166f01ef9dd2415dac1', 'update tableName=Statement2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml::6::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Statement2" SET payload = encode(lo_get(cast(legacy_payload as int)), 'escape') WHERE legacy_payload IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml', NOW(), 378, '8:d97e79f9adebde6a91a93ad63d750eb2', 'update tableName=Statement2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml::7::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Statement2" ALTER COLUMN  payload SET NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Statement2-from-large-object-to-toasted-fields.xml', NOW(), 379, '8:9aab209f9a7000accfabb7e8db02c9b2', 'addNotNullConstraint columnName=payload, tableName=Statement2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Target2-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Target2" RENAME COLUMN description TO legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Target2-from-large-object-to-toasted-fields.xml', NOW(), 380, '8:99b14c8485c1491c3e85175145d1cb70', 'renameColumn newColumnName=legacy_description, oldColumnName=description, tableName=Target2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Target2-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Target2" ADD description TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Target2-from-large-object-to-toasted-fields.xml', NOW(), 381, '8:6f9a0d77981899fab140baa64dff1515', 'addColumn tableName=Target2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Target2-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Target2" SET description = encode(lo_get(cast(legacy_description as int)), 'escape') WHERE legacy_description IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-Target2-from-large-object-to-toasted-fields.xml', NOW(), 382, '8:2d485aae9da8183eaad1feb3c252f130', 'update tableName=Target2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-value_processor-from-large-object-to-toasted-fields.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor RENAME COLUMN expression TO legacy_expression;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-value_processor-from-large-object-to-toasted-fields.xml', NOW(), 383, '8:0bc338c0436eaf51bd0361eea4c43d4f', 'renameColumn newColumnName=legacy_expression, oldColumnName=expression, tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-value_processor-from-large-object-to-toasted-fields.xml::2::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor ADD expression TEXT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-value_processor-from-large-object-to-toasted-fields.xml', NOW(), 384, '8:f93bc32f7d26373201cf0e6a99340645', 'addColumn tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-value_processor-from-large-object-to-toasted-fields.xml::3::symphonic
SET SEARCH_PATH TO public;

UPDATE public.value_processor SET expression = encode(lo_get(cast(legacy_expression as int)), 'escape') WHERE legacy_expression IS NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/migrate-value_processor-from-large-object-to-toasted-fields.xml', NOW(), 385, '8:9b8ec6766ed7db06e699374724257e21', 'update tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-sequences.xml::2::symphonic
SET SEARCH_PATH TO public;

CREATE SEQUENCE public.value_processor_id_seq
    INCREMENT BY 20
    OWNED BY public.value_processor.id;

SELECT setval(pg_get_serial_sequence('value_processor', 'id'), coalesce(max(id), 0) + 1, false) FROM value_processor;

CREATE SEQUENCE public.weighted_children_id_seq
    INCREMENT BY 20
    OWNED BY public."WeightedChildren"."WeightedChildren_ID";

SELECT setval(pg_get_serial_sequence('"WeightedChildren"', 'WeightedChildren_ID'), coalesce(max("WeightedChildren_ID"), 0) + 1, false)
    FROM "WeightedChildren";

CREATE SEQUENCE public.attribute_resolver_id_seq
    INCREMENT BY 20
    OWNED BY public."AttributeResolver"."AttributeResolver_ID";

SELECT setval(pg_get_serial_sequence('"AttributeResolver"', 'AttributeResolver_ID'), coalesce(max("AttributeResolver_ID"), 0) + 1, false)
    FROM "AttributeResolver";

CREATE SEQUENCE public.combining_algorithm_id_seq
    INCREMENT BY 20
    OWNED BY public."CombiningAlgorithm"."CombiningAlgorithm_ID";

SELECT setval(pg_get_serial_sequence('"CombiningAlgorithm"', 'CombiningAlgorithm_ID'), coalesce(max("CombiningAlgorithm_ID"), 0) + 1, false)
    FROM "CombiningAlgorithm";

CREATE SEQUENCE public.entity_relationship_id_seq
    INCREMENT BY 20
    OWNED BY public."EntityRelationship"."EntityRelationship_ID";

SELECT setval(pg_get_serial_sequence('"EntityRelationship"', 'EntityRelationship_ID'), coalesce(max("EntityRelationship_ID"), 0) + 1, false)
    FROM "EntityRelationship";

CREATE SEQUENCE public.http_request_header_id_seq
    INCREMENT BY 20
    OWNED BY public."HttpRequestHeader"."HttpRequestHeader_ID";

SELECT setval(pg_get_serial_sequence('"HttpRequestHeader"', 'HttpRequestHeader_ID'), coalesce(max("HttpRequestHeader_ID"), 0) + 1, false)
    FROM "HttpRequestHeader";

CREATE SEQUENCE public.multi_properties_property_id_seq
    INCREMENT BY 20
    OWNED BY public.multi_properties_property.id;

SELECT setval(pg_get_serial_sequence('multi_properties_property', 'id'), coalesce(max(id), 0) + 1, false) FROM multi_properties_property;

CREATE SEQUENCE public.service_settings_id_seq
    INCREMENT BY 20
    OWNED BY public."ServiceSettings"."ServiceSettings_ID";

SELECT setval(pg_get_serial_sequence('"ServiceSettings"', 'ServiceSettings_ID'), coalesce(max("ServiceSettings_ID"), 0) + 1, false)
    FROM "ServiceSettings";

CREATE SEQUENCE public.targeted_definitions_id_seq
    INCREMENT BY 20
    OWNED BY public.targeted_definitions.id;

SELECT setval(pg_get_serial_sequence('targeted_definitions', 'id'), coalesce(max(id), 0) + 1, false) FROM targeted_definitions;

CREATE SEQUENCE public.keystore_configuration_id_seq
    INCREMENT BY 20
    OWNED BY public.keystore_configuration.id;

SELECT setval(pg_get_serial_sequence('keystore_configuration', 'id'), coalesce(max(id), 0) + 1, false) FROM keystore_configuration;

CREATE SEQUENCE public.deployment_package_approval_id_seq
    INCREMENT BY 20
    OWNED BY public.deployment_package_approval.id;

SELECT setval(pg_get_serial_sequence('deployment_package_approval', 'id'), coalesce(max(id), 0) + 1, false) FROM deployment_package_approval;

CREATE SEQUENCE public.permissions_id_seq
    INCREMENT BY 20
    OWNED BY public.permissions.id;

SELECT setval(pg_get_serial_sequence('permissions', 'id'), coalesce(max(id), 0) + 1, false) FROM permissions;

CREATE SEQUENCE public.role_permissions_id_seq
    INCREMENT BY 20
    OWNED BY public.role_permissions.id;

SELECT setval(pg_get_serial_sequence('role_permissions', 'id'), coalesce(max(id), 0) + 1, false) FROM role_permissions;

CREATE SEQUENCE public.tls_settings_id_seq
    INCREMENT BY 20
    OWNED BY public.tls_settings.id;

SELECT setval(pg_get_serial_sequence('tls_settings', 'id'), coalesce(max(id), 0) + 1, false) FROM tls_settings;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/create-sequences.xml', NOW(), 386, '8:f099972d212ec01c96bee4523b8f1e13', 'sqlFile', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/changelog.xml::1::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.9/changelog.xml', NOW(), 387, '8:fda8bb1673d3cfcf4f5853a2c2504900', 'tagDatabase', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL, '8.9');

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE OR REPLACE PROCEDURE public.delete_large_objects(table_name regclass, col_name text) AS $$
DECLARE
    loid integer;
BEGIN
    FOR loid IN
        EXECUTE 'SELECT ' || quote_ident(col_name) || ' FROM ' || table_name || ' WHERE ' || quote_ident(col_name) || ' IS NOT NULL'
        LOOP

            PERFORM lo_unlink(loid);

        END LOOP;
END
$$ LANGUAGE plpgsql;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 388, '8:34167ee04321a548c3d43ce698adc6c5', 'createProcedure procedureName=delete_large_objects', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::2::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."AttributeResolver"', 'legacy_condition');

CALL delete_large_objects('public."AttributeResolver"', 'legacy_value');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 389, '8:c27c7134914c5586696b4aaf4391a927', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."AttributeResolver" DROP COLUMN legacy_condition;

ALTER TABLE public."AttributeResolver" DROP COLUMN legacy_value;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 390, '8:a63bd287b0af336b20855c4e78890a6d', 'dropColumn tableName=AttributeResolver', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::4::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."CamelSettings"', 'legacy_body');

CALL delete_large_objects('public."CamelSettings"', 'legacy_configuration');

CALL delete_large_objects('public."CamelSettings"', 'legacy_headers');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 391, '8:af65e5eea3f28739f29596c5d77eac76', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."CamelSettings" DROP COLUMN legacy_body;

ALTER TABLE public."CamelSettings" DROP COLUMN legacy_configuration;

ALTER TABLE public."CamelSettings" DROP COLUMN legacy_headers;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 392, '8:d16decf2d1a40df81c45d2cb07839318', 'dropColumn tableName=CamelSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::6::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."DatabaseSettings"', 'legacy_connection_string');

CALL delete_large_objects('public."DatabaseSettings"', 'legacy_sql');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 393, '8:a8ce89b296648ede66c0f6190c6984da', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::7::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."DatabaseSettings" DROP COLUMN legacy_connection_string;

ALTER TABLE public."DatabaseSettings" DROP COLUMN legacy_sql;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 394, '8:83fc90033a3037b67b9af5101d531a87', 'dropColumn tableName=DatabaseSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::8::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."Definition"', 'legacy_description');

CALL delete_large_objects('public."Definition"', 'legacy_condition');

CALL delete_large_objects('public."Definition"', 'legacy_default_value');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('8', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 395, '8:fe84a6498ae5f4f9855344ecc08d42a6', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::9::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" DROP COLUMN legacy_description;

ALTER TABLE public."Definition" DROP COLUMN legacy_condition;

ALTER TABLE public."Definition" DROP COLUMN legacy_default_value;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('9', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 396, '8:e949c20d15e8834e337d398e0374551c', 'dropColumn tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::10::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."DeploymentPackage"', 'legacy_snapshot_message');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('10', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 397, '8:313d81214cd833ff9d0a5a6197cb4a69', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::11::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."DeploymentPackage" DROP COLUMN legacy_snapshot_message;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('11', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 398, '8:432d023e4c82cb7fa93e040bc87a7b64', 'dropColumn tableName=DeploymentPackage', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::12::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."HttpRequestHeader"', 'legacy_value');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('12', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 399, '8:c68054574419ff5f15974cd1a7d9252f', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::13::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."HttpRequestHeader" DROP COLUMN legacy_value;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('13', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 400, '8:8caaca7f1fb69fb12ede383df1558de4', 'dropColumn tableName=HttpRequestHeader', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::14::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public.keystore_configuration', 'legacy_store_name');

CALL delete_large_objects('public.keystore_configuration', 'legacy_alias');

CALL delete_large_objects('public.keystore_configuration', 'legacy_alias_password');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('14', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 401, '8:e46cb25046ff75910976f3d9e8eaad73', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::15::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.keystore_configuration DROP COLUMN legacy_store_name;

ALTER TABLE public.keystore_configuration DROP COLUMN legacy_alias;

ALTER TABLE public.keystore_configuration DROP COLUMN legacy_alias_password;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('15', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 402, '8:32cebbe99072bca7f66eef04b497bc3a', 'dropColumn tableName=keystore_configuration', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::16::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."LdapSettings"', 'legacy_built_connection_path');

CALL delete_large_objects('public."LdapSettings"', 'legacy_description');

CALL delete_large_objects('public."LdapSettings"', 'legacy_ldap_filter');

CALL delete_large_objects('public."LdapSettings"', 'legacy_ldap_search_base');

CALL delete_large_objects('public."LdapSettings"', 'legacy_name');

CALL delete_large_objects('public."LdapSettings"', 'legacy_password');

CALL delete_large_objects('public."LdapSettings"', 'legacy_server');

CALL delete_large_objects('public."LdapSettings"', 'legacy_username');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('16', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 403, '8:c2249ea56b09475174bb0f610182ddd4', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::17::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" DROP COLUMN legacy_built_connection_path;

ALTER TABLE public."LdapSettings" DROP COLUMN legacy_description;

ALTER TABLE public."LdapSettings" DROP COLUMN legacy_ldap_filter;

ALTER TABLE public."LdapSettings" DROP COLUMN legacy_ldap_search_base;

ALTER TABLE public."LdapSettings" DROP COLUMN legacy_name;

ALTER TABLE public."LdapSettings" DROP COLUMN legacy_password;

ALTER TABLE public."LdapSettings" DROP COLUMN legacy_server;

ALTER TABLE public."LdapSettings" DROP COLUMN legacy_username;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('17', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 404, '8:29548644fe5f6260faaf1ec4ca8b2e6a', 'dropColumn tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::18::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public.multi_properties_property', 'legacy_value');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('18', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 405, '8:5ca90719b5abaaf7d9879f8504e7a1e3', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::19::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.multi_properties_property DROP COLUMN legacy_value;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('19', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 406, '8:a5e5e3a885e58eab20cfc10984509ce1', 'dropColumn tableName=multi_properties_property', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::20::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."Policy2"', 'legacy_condition');

CALL delete_large_objects('public."Policy2"', 'legacy_description');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('20', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 407, '8:e541c9ce040643b8a7204cf7cced22ec', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::21::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Policy2" DROP COLUMN legacy_condition;

ALTER TABLE public."Policy2" DROP COLUMN legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('21', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 408, '8:a63177287d4bd2eb77eb09884b65f0fb', 'dropColumn tableName=Policy2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::22::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."PolicySet2"', 'legacy_condition');

CALL delete_large_objects('public."PolicySet2"', 'legacy_description');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('22', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 409, '8:884f93bc113b1610b98a3f8712778cfb', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::23::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."PolicySet2" DROP COLUMN legacy_condition;

ALTER TABLE public."PolicySet2" DROP COLUMN legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('23', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 410, '8:17afaae3b7d00826719da49262faa37a', 'dropColumn tableName=PolicySet2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::24::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."RestSettings"', 'legacy_authentication_attributes');

CALL delete_large_objects('public."RestSettings"', 'legacy_body');

CALL delete_large_objects('public."RestSettings"', 'legacy_url_format');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('24', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 411, '8:d54845d1fab4eec7fde63eca6d6f89a8', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::25::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."RestSettings" DROP COLUMN legacy_authentication_attributes;

ALTER TABLE public."RestSettings" DROP COLUMN legacy_body;

ALTER TABLE public."RestSettings" DROP COLUMN legacy_url_format;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('25', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 412, '8:bb5f22f34878d13a785c5ad19d72541b', 'dropColumn tableName=RestSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::26::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."Rule2"', 'legacy_condition');

CALL delete_large_objects('public."Rule2"', 'legacy_description');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('26', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 413, '8:56e1ccb8620df5afcdb1848b529e246b', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::27::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Rule2" DROP COLUMN legacy_condition;

ALTER TABLE public."Rule2" DROP COLUMN legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('27', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 414, '8:655469979f158bd775d9ad59c07bcdcc', 'dropColumn tableName=Rule2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::28::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."ServiceSettings"', 'legacy_description');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('28', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 415, '8:d6e9e0dbfab92e5fe0e28be1a1d8e263', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::29::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."ServiceSettings" DROP COLUMN legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('29', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 416, '8:a318f59b2fcfba9a9444647504de2979', 'dropColumn tableName=ServiceSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::30::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."Snapshot"', 'legacy_approvals');

CALL delete_large_objects('public."Snapshot"', 'legacy_commit_details_message');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('30', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 417, '8:b0d547720cc75c6b3127a1649086d6cc', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::31::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Snapshot" DROP COLUMN legacy_approvals;

ALTER TABLE public."Snapshot" DROP COLUMN legacy_commit_details_message;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('31', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 418, '8:1b1c80e152c35a23972d6513b8724941', 'dropColumn tableName=Snapshot', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::32::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."Statement2"', 'legacy_description');

CALL delete_large_objects('public."Statement2"', 'legacy_payload');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('32', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 419, '8:818ab78bdecc7a8347cd1bcbf44135fe', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::33::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Statement2" DROP COLUMN legacy_description;

ALTER TABLE public."Statement2" DROP COLUMN legacy_payload;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('33', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 420, '8:df39a82ca76f2b324ad88e717de5de62', 'dropColumn tableName=Statement2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::34::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public."Target2"', 'legacy_description');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('34', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 421, '8:517898e7b8e5054c4ae75fad40d7075d', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::35::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Target2" DROP COLUMN legacy_description;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('35', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 422, '8:55be5c2c383d37924f1a83063bcbe531', 'dropColumn tableName=Target2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::36::symphonic
SET SEARCH_PATH TO public;

CALL delete_large_objects('public.value_processor', 'legacy_expression');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('36', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 423, '8:bdabd46239e3fa28a35cf25ce27d3d2e', 'sql', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::37::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.value_processor DROP COLUMN legacy_expression;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('37', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 424, '8:5622d2464a693eaa5089a8af14b09b81', 'dropColumn tableName=value_processor', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml::38::symphonic
SET SEARCH_PATH TO public;

DROP PROCEDURE public.delete_large_objects;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('38', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-legacy-large-object-columns.xml', NOW(), 425, '8:a4d6a200028031663aef7ad89dc48085', 'dropProcedure procedureName=delete_large_objects', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-ldap-settings-protocol-column.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."LdapSettings" DROP COLUMN protocol;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-ldap-settings-protocol-column.xml', NOW(), 426, '8:830eae2109f11d915be9552d15b6dbc3', 'dropColumn tableName=LdapSettings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-attribute-resolver-type-table.xml::1::symphonic
SET SEARCH_PATH TO public;

DROP TABLE public."AttributeDefinition_requiredResolverTypes";

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/drop-attribute-resolver-type-table.xml', NOW(), 427, '8:73d8a71762f7c373638c38f9ba5821de', 'dropTable tableName=AttributeDefinition_requiredResolverTypes', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/update-test-scenario-attribute-fields-to-clob.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.test_scenario ALTER COLUMN request_attributes TYPE TEXT USING (request_attributes::TEXT);

ALTER TABLE public.test_scenario ALTER COLUMN attribute_overrides TYPE TEXT USING (attribute_overrides::TEXT);

ALTER TABLE public.test_scenario ALTER COLUMN service_overrides TYPE TEXT USING (service_overrides::TEXT);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/update-test-scenario-attribute-fields-to-clob.xml', NOW(), 428, '8:26a095737cce949d4a34bffde2ca37e6', 'modifyDataType columnName=request_attributes, tableName=test_scenario; modifyDataType columnName=attribute_overrides, tableName=test_scenario; modifyDataType columnName=service_overrides, tableName=test_scenario', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-scope-column-to-definition-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Definition" ADD iteration_scope_id VARCHAR(36);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-scope-column-to-definition-table.xml', NOW(), 429, '8:260aba0f36fac6021c4b32aed43aa47e', 'addColumn tableName=Definition', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-column-to-policy2-table.xml::1::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Policy2" ADD iteration_settings_id BIGINT;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-column-to-policy2-table.xml', NOW(), 430, '8:ecebd081499225aae50942425a4fa237', 'addColumn tableName=Policy2', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml::1::symphonic
SET SEARCH_PATH TO public;

CREATE TABLE public.iteration_settings (id BIGINT NOT NULL);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml', NOW(), 431, '8:222badc88cda1748da229bc8be5e1612', 'createTable tableName=iteration_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.iteration_settings ADD CONSTRAINT pk_iteration_settings PRIMARY KEY (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml', NOW(), 432, '8:e21d1bf165fa313c079ce56046fd63c2', 'addPrimaryKey constraintName=pk_iteration_settings, tableName=iteration_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.iteration_settings ADD scope TEXT NOT NULL;

ALTER TABLE public.iteration_settings ADD decision TEXT;

ALTER TABLE public.iteration_settings ADD temp_id VARCHAR(36);

ALTER TABLE public.iteration_settings ADD temp_version VARCHAR(36);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml', NOW(), 433, '8:b7acb649f52903814858a5a01da04e2c', 'addColumn tableName=iteration_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml::5::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public."Policy2" ADD CONSTRAINT fk__iteration_settings_id FOREIGN KEY (iteration_settings_id) REFERENCES public.iteration_settings (id);

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('5', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml', NOW(), 434, '8:d3c1239c72201c9494d961dcf862d55e', 'addForeignKeyConstraint baseTableName=Policy2, constraintName=fk__iteration_settings_id, referencedTableName=iteration_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml::6::symphonic
SET SEARCH_PATH TO public;

CREATE SEQUENCE  IF NOT EXISTS public.iteration_settings_id_seq START WITH 1 INCREMENT BY 20;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/add-iteration-settings-table.xml', NOW(), 435, '8:fe486e0fe2f7188017e6d000b2f950cb', 'createSequence sequenceName=iteration_settings_id_seq', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml::2::symphonic
SET SEARCH_PATH TO public;

UPDATE public."Definition" def SET iteration_scope_id = (
    SELECT mpp.value FROM public.multi_properties_property mpp
        INNER JOIN public."Definition_properties" dp ON mpp.id = dp."MultiProperties24Property_ID_EID"
        WHERE def.id = dp."id_OID"
            AND def.version = dp."version_OID"
            AND mpp.key = 'com.symphonicsoft.iteration.scope');

INSERT INTO public.iteration_settings(id, scope, decision, temp_id, temp_version)
    (SELECT nextval('iteration_settings_id_seq'), mpp.value, NULL, pp."id_OID", pp."version_OID" FROM public.multi_properties_property mpp
        INNER JOIN public."Policy_properties" pp ON mpp.id = pp."MultiProperties24Property_ID_EID"
        WHERE mpp.key = 'com.symphonicsoft.iteration.scope');

UPDATE public.iteration_settings i set decision =
    (SELECT mpp.value FROM public.multi_properties_property mpp
        INNER JOIN public."Policy_properties" pp ON mpp.id = pp."MultiProperties24Property_ID_EID"
        WHERE i.temp_id = pp."id_OID"
            AND i.temp_version = pp."version_OID"
            AND mpp.key = 'com.symphonicsoft.iteration.overallDecision');

UPDATE public."Policy2" p set iteration_settings_id =
    (SELECT id FROM public.iteration_settings i
        WHERE i.temp_id = p.id AND i.temp_version = p.version);

DELETE FROM public."Definition_properties" WHERE "MultiProperties24Property_ID_EID" IN
    (SELECT mpp.id FROM public.multi_properties_property mpp
        INNER JOIN public."Definition_properties" dp on mpp.id = dp."MultiProperties24Property_ID_EID"
        WHERE mpp.key = 'com.symphonicsoft.iteration.scope');

DELETE FROM public."Policy_properties" WHERE "MultiProperties24Property_ID_EID" IN
    (SELECT mpp.id FROM public.multi_properties_property mpp
        INNER JOIN public."Policy_properties" pp on mpp.id = pp."MultiProperties24Property_ID_EID"
        WHERE mpp.key = 'com.symphonicsoft.iteration.scope' OR mpp.key = 'com.symphonicsoft.iteration.overallDecision');

DELETE FROM public.multi_properties_property
    WHERE key = 'com.symphonicsoft.iteration.scope';

DELETE FROM public.multi_properties_property
    WHERE key = 'com.symphonicsoft.iteration.overallDecision';

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml', NOW(), 436, '8:d3ed0e14351c35be89635c367a76755e', 'sqlFile', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml::3::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.iteration_settings DROP COLUMN temp_id;

ALTER TABLE public.iteration_settings DROP COLUMN temp_version;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml', NOW(), 437, '8:036e4fce47622bc6522835fd5da61d29', 'dropColumn tableName=iteration_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml::4::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.iteration_settings ALTER COLUMN  decision SET NOT NULL;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('4', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml', NOW(), 438, '8:9d0b34bb4ee636ab065d2541add6de65', 'addNotNullConstraint columnName=decision, tableName=iteration_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml::6::symphonic
SET SEARCH_PATH TO public;

UPDATE public."AttributeResolver"
SET "DISCRIMINATOR"         = 'com.symphonicsoft.trustframework.api.FromCurrentRepetitionValueResolver',
    attribute_definition_id = null
WHERE "AttributeResolver_ID" IN (SELECT ar."AttributeResolver_ID"
                          FROM public."AttributeResolver" ar
                                   INNER JOIN public."AttributeDefinition_resolvers" ars
                                              ON ar."AttributeResolver_ID" = ars."AttributeResolver"
                                   INNER JOIN public."Definition" d
                                              ON ars."id_OID" = d.id AND
                                                 ars."version_OID" = d.version AND
                                                 ar.attribute_definition_id = d.iteration_scope_id AND
                                                 ar."DISCRIMINATOR" =
                                                 'com.symphonicsoft.trustframework.api.FromAttributeAttributeResolver');

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('6', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml', NOW(), 439, '8:b1056ab993e4491d8b09fb151c13b17d', 'sqlFile', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml::7::symphonic
SET SEARCH_PATH TO public;

ALTER TABLE public.iteration_settings ALTER COLUMN scope TYPE VARCHAR(36) USING (scope::VARCHAR(36));

ALTER TABLE public.iteration_settings ALTER COLUMN decision TYPE VARCHAR(36) USING (decision::VARCHAR(36));

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('7', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/migrate-iteration-settings-data.xml', NOW(), 440, '8:66b21f19b6f0d78bd3cf430a687b6913', 'modifyDataType columnName=scope, tableName=iteration_settings; modifyDataType columnName=decision, tableName=iteration_settings', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL);

-- Changeset META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/changelog.xml::1::symphonic
SET SEARCH_PATH TO public;

INSERT INTO public.databasechangelog (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('1', 'symphonic', 'META-INF/resourcesPrivate/com.symphonicsoft.db.cli/liquibase/8.10/changelog.xml', NOW(), 441, '8:41d1943d72cd30434aa36e64d7ae03c6', 'tagDatabase', '', 'EXECUTED', NULL, NULL, '3.10.2', NULL, '8.10');

-- Release Database Lock
SET SEARCH_PATH TO public;

UPDATE public.databasechangeloglock SET LOCKED = FALSE, LOCKEDBY = NULL, LOCKGRANTED = NULL WHERE ID = 1;

SET SEARCH_PATH TO public;

-- Grant privileges to user
DO $$
    BEGIN
        IF EXISTS (SELECT 1 FROM pg_roles WHERE rolname = 'pap_user') THEN
            REVOKE ALL ON SCHEMA public FROM PUBLIC;
            GRANT USAGE ON SCHEMA public TO pap_user;
            GRANT SELECT ON ALL TABLES IN SCHEMA public TO pap_user;
            GRANT INSERT ON ALL TABLES IN SCHEMA public TO pap_user;
            GRANT UPDATE ON ALL TABLES IN SCHEMA public TO pap_user;
            GRANT DELETE ON ALL TABLES IN SCHEMA public TO pap_user;
            GRANT USAGE ON ALL SEQUENCES IN SCHEMA public TO pap_user;
        END IF;
    END;
$$ LANGUAGE plpgsql;
